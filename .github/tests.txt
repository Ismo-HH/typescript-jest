aW1wb3J0IHsgdGVzdCwgZGVzY3JpYmUgfSBmcm9tICdAamVzdC9nbG9iYWxzJzsKaW1wb3J0IHsg
ZmlubmlzaERhdGVTdHJpbmcgfSBmcm9tICcuLi9kYXRlRm9ybWF0dGVyJzsKaW1wb3J0IHsgc3Ry
aWN0IGFzIGFzc2VydCB9IGZyb20gJ25vZGU6YXNzZXJ0JzsKCmZ1bmN0aW9uIHBhcnNlRGF0ZShk
YXRlOiBzdHJpbmcpOiBEYXRlIHsKICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLnBhcnNlKGRhdGUp
KTsKfQoKZGVzY3JpYmUoJ1ZlcmlmeSB0aGF0IHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBmaXhlZCBw
cm9wZXJseScsICgpID0+IHsKCiAgICB0ZXN0KCdmb3JtYXRzIE1vbmRheSBKYW51YXJ5IDFzdCAy
MDI0IGNvcnJlY3RseScsICgpID0+IHsKICAgICAgICBsZXQgamFudWFyeTEgPSBwYXJzZURhdGUo
JzIwMjQtMDEtMDEnKTsKICAgICAgICBsZXQgcmVzdWx0ID0gZmlubmlzaERhdGVTdHJpbmcoamFu
dWFyeTEpOwoKICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LnRvTG93ZXJDYXNlKCksICdtYWFu
YW50YWkgMS4gdGFtbWlrdXV0YSAyMDI0Jyk7CiAgICB9KTsKCiAgICB0ZXN0KCdmb3JtYXRzIFN1
bmRheSBEZWNlbWJlciAzMXN0IDIwMjMgY29ycmVjdGx5JywgKCkgPT4gewogICAgICAgIGxldCBk
ZWNlbWJlcjMxID0gcGFyc2VEYXRlKCcyMDIzLTEyLTMxJyk7CiAgICAgICAgbGV0IHJlc3VsdCA9
IGZpbm5pc2hEYXRlU3RyaW5nKGRlY2VtYmVyMzEpOwoKICAgICAgICBhc3NlcnQuZXF1YWwocmVz
dWx0LnRvTG93ZXJDYXNlKCksICdzdW5udW50YWkgMzEuIGpvdWx1a3V1dGEgMjAyMycpOwogICAg
fSk7CgogICAgdGVzdCgnZm9ybWF0cyBtb250aHMgY29ycmVjdGx5JywgKCkgPT4gewogICAgICAg
IGxldCBtb250aHMgPSBbJ3RhbW1pJywgJ2hlbG1pJywgJ21hYWxpcycsICdodWh0aScsICd0b3Vr
bycsICdrZXPDpCcsCiAgICAgICAgICAgICdoZWluw6QnLCAnZWxvJywgJ3N5eXMnLCAnbG9rYScs
ICdtYXJyYXMnLCAnam91bHUnXTsKCiAgICAgICAgbW9udGhzLmZvckVhY2goKG1vbnRoTmFtZSwg
bW9udGhJbmRleCkgPT4gewogICAgICAgICAgICBsZXQgdGVzdERhdGUgPSBuZXcgRGF0ZSgyMDMw
LCBtb250aEluZGV4LCAxNSk7CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbm5pc2hEYXRl
U3RyaW5nKHRlc3REYXRlKS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgYXNzZXJ0Lm9rKHJl
c3VsdC5pbmNsdWRlcyhtb250aE5hbWUpLCBgT3V0cHV0IHNob3VsZCBpbmNsdWRlICcke21vbnRo
TmFtZX0nIGZvciBkYXRlICcke3Rlc3REYXRlLnRvSVNPU3RyaW5nKCl9JywgYnV0IGl0IGlzICck
e3Jlc3VsdH0nLmApOwogICAgICAgIH0pOwogICAgfSk7CgogICAgdGVzdCgnZm9ybWF0cyBkYXlz
IGNvcnJlY3RseScsICgpID0+IHsKICAgICAgICBsZXQgZGF0ZXMgPSB7CiAgICAgICAgICAgICdt
YWFuYW50YWknOiBwYXJzZURhdGUoJzIwMjUtMDItMTAnKSwKICAgICAgICAgICAgJ3RpaXN0YWkn
OiBwYXJzZURhdGUoJzIwMjUtMDItMTEnKSwKICAgICAgICAgICAgJ2tlc2tpdmlpa2tvJzogcGFy
c2VEYXRlKCcyMDI1LTAyLTEyJyksCiAgICAgICAgICAgICd0b3JzdGFpJzogcGFyc2VEYXRlKCcy
MDI1LTAyLTEzJyksCiAgICAgICAgICAgICdwZXJqYW50YWknOiBwYXJzZURhdGUoJzIwMjUtMDIt
MTQnKSwKICAgICAgICAgICAgJ2xhdWFudGFpJzogcGFyc2VEYXRlKCcyMDI1LTAyLTE1JyksCiAg
ICAgICAgICAgICdzdW5udW50YWknOiBwYXJzZURhdGUoJzIwMjUtMDItMTYnKQogICAgICAgIH07
CgogICAgICAgIE9iamVjdC5lbnRyaWVzKGRhdGVzKS5mb3JFYWNoKChbZGF5TmFtZSwgdGVzdERh
dGVdKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbm5pc2hEYXRlU3RyaW5nKHRl
c3REYXRlKS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgYXNzZXJ0Lm9rKHJlc3VsdC5pbmNs
dWRlcyhkYXlOYW1lKSwgYE91dHB1dCBzaG91bGQgaW5jbHVkZSAnJHtkYXlOYW1lfScgZm9yIGRh
dGUgJyR7dGVzdERhdGUudG9JU09TdHJpbmcoKX0nLCBidXQgaXQgaXMgJyR7cmVzdWx0fScuYCk7
CiAgICAgICAgfSk7CiAgICB9KTsKfSk7Cg==
